{"ast":null,"code":"var _jsxFileName = \"/Users/migueldominguezchamorro/Desktop/TindEvent/TindEvent-front/my-app/src/components/EditProfile.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\"; //import {useDatepicker, useMonth, useDay} from '@datepicker-react/hooks'\n\nfunction EditProfile(props) {\n  const [username, setUsername] = useState(props.user.username);\n  const [email, setEmail] = useState(props.user.email); // const [password, setPassword] = useState(\"\");\n\n  const [location, setLocation] = useState(props.user.location);\n  const [bio, setBio] = useState(props.user.bio);\n  const [picture, setPicture] = useState(props.user.picture);\n  const [birthDate, setBirthDate] = useState(props.user.birthDate);\n\n  const getUserInfo = async () => {\n    const me = await axios.get(`${process.env.REACT_APP_API_URI}/profile/${props.user._id}`);\n    setUsername(me.data.username);\n    setEmail(me.data.email);\n    setLocation(me.data.location);\n    setBio(me.data.bio);\n    setBirthDate(me.data.birthDate);\n    setPicture(me.data.picture);\n  }; // const newBirthDate =(value) => {\n  //   var date = new Date(value);\n  //   setBirthDate(date.toISOString());\n  // } \n\n\n  useEffect(() => {\n    getUserInfo();\n  }, []);\n  const history = useHistory();\n\n  async function handleFormSubmit(event) {\n    event.preventDefault();\n\n    try {\n      console.log(\"nuevo console\", props.user._id);\n      await axios.put(`${process.env.REACT_APP_API_URI}/profile/${props.user._id}/edit`, {\n        picture,\n        username,\n        email,\n        location,\n        birthDate,\n        bio\n      });\n      history.push(\"/Profile\")\n      /*como devolver a profile los datos actualizado recein */\n      ;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"d-flex flex-column justify-content-center formBeer text-center align-items-center\",\n    onSubmit: e => handleFormSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Photo:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"picture\",\n    value: picture,\n    alt: \"Profile picture\",\n    onChange: e => setPicture(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Location:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"location\",\n    value: location,\n    onChange: e => setLocation(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"Birthdate:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"Date\",\n    name: \"birthDate\",\n    value: birthDate,\n    onChange: e => setBirthDate(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"Bio:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    name: \"bio\",\n    value: bio,\n    onChange: e => setBio(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default withAuth(EditProfile);","map":{"version":3,"sources":["/Users/migueldominguezchamorro/Desktop/TindEvent/TindEvent-front/my-app/src/components/EditProfile.js"],"names":["React","useState","useEffect","axios","useHistory","withAuth","EditProfile","props","username","setUsername","user","email","setEmail","location","setLocation","bio","setBio","picture","setPicture","birthDate","setBirthDate","getUserInfo","me","get","process","env","REACT_APP_API_URI","_id","data","history","handleFormSubmit","event","preventDefault","console","log","put","push","error","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect }from 'react'\nimport axios from \"axios\"\nimport { useHistory } from \"react-router-dom\"\nimport { withAuth } from \"../lib/AuthProvider\";\n//import {useDatepicker, useMonth, useDay} from '@datepicker-react/hooks'\n\n\nfunction EditProfile(props) {\n  const [username, setUsername] = useState(props.user.username);\n  const [email, setEmail] = useState(props.user.email);\n  // const [password, setPassword] = useState(\"\");\n  const [location, setLocation] = useState(props.user.location);\n  const [bio, setBio] = useState(props.user.bio);\n  const [picture, setPicture] = useState(props.user.picture);\n  const [birthDate, setBirthDate] = useState(props.user.birthDate);\n  \n  const getUserInfo = async () => {\n    const me = await axios.get(`${process.env.REACT_APP_API_URI}/profile/${props.user._id}`);\n    setUsername(me.data.username)\n    setEmail(me.data.email)\n    setLocation(me.data.location)\n    setBio(me.data.bio)\n    setBirthDate(me.data.birthDate)\n    setPicture(me.data.picture)  \n  }\n\n  // const newBirthDate =(value) => {\n  //   var date = new Date(value);\n  //   setBirthDate(date.toISOString());\n  // } \n\n  useEffect( () => {\n    getUserInfo()\n    }, []);\n  \n  \n  const history = useHistory();\n  \n  async function handleFormSubmit (event){\n    event.preventDefault();\n    try{\n      console.log(\"nuevo console\", props.user._id)\n      await axios.put(`${process.env.REACT_APP_API_URI}/profile/${props.user._id}/edit`, { picture, username, email, location, birthDate, bio })\n      history.push(\"/Profile\") /*como devolver a profile los datos actualizado recein */\n      ;\n    }\n    catch(error){\n      console.log(error)\n    }\n  }\n  \n  return (\n        <div>\n      <div className =\"d-flex justify-content-center\">\n        <form className=\"d-flex flex-column justify-content-center formBeer text-center align-items-center\" onSubmit={e => handleFormSubmit(e)}>\n          \n        <label>Photo:</label>\n          <input\n            type='text'\n            name='picture'\n            value={picture}\n            alt='Profile picture'\n            onChange={e => setPicture(e.target.value)}\n            />\n          <br></br>\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={e => setUsername(e.target.value)}\n          />\n          <br></br>\n          <label>Email:</label>\n          <input\n          type=\"text\"\n            name=\"email\"\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n          />\n            {/* <br></br>\n          <label>Password:</label>\n          <input\n          type=\"password\"\n            name=\"password\"\n            value={password: hashPass}\n            onChange={e => setPassword(e.target.value)}\n          /> */}\n          <br></br>\n          <label>Location:</label>\n          <input\n          type=\"text\"\n            name=\"location\"\n            value={location}\n            onChange={e => setLocation(e.target.value)}\n          />\n          <br></br>\n          <label>Birthdate:</label>\n          <input\n          type=\"Date\"\n            name=\"birthDate\" \n            value={birthDate}\n            onChange={e =>setBirthDate(e.target.value)}\n          />\n          <br></br>\n          <label>Bio:</label>\n          <textarea\n          type=\"text\"\n            name=\"bio\"\n            value={bio}\n            onChange={e => setBio(e.target.value)}\n          />\n          <br></br>\n\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n      </div>\n      </div>\n    )\n}\nexport default withAuth(EditProfile)"]},"metadata":{},"sourceType":"module"}