{"ast":null,"code":"var _jsxFileName = \"/Users/migueldominguezchamorro/Desktop/TindEvent/TindEvent-front/my-app/src/components/EventDetails.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\n\nclass EventDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getSingleEvent = async () => {\n      const {\n        params\n      } = this.props.match;\n      console.log(\"ESTE PARAMS\", params);\n      await axios.get(`https://app.ticketmaster.com/discovery/v2/events?apikey=${process.env.REACT_APP_TICKETMASTERKEY}&id=${params.id}`).then(responseFromApi => {\n        const theEvent = responseFromApi.data._embedded.events[0];\n        this.setState({\n          event: theEvent,\n          image: theEvent.images[1].url\n        }); //console.log(\"caca\", this.state.event.images[0].url);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.getGroupEventID = async () => {\n      const {\n        params\n      } = this.props.match;\n      console.log(\"Entrando en GetGroupEventID\", params.id);\n      const groups = await axios.get(`${process.env.REACT_APP_API_URI}/groups/grouplist/${params.id}`);\n      this.setState({\n        groups: groups.data\n      });\n      console.log(groups);\n    };\n\n    this.handleJoin = async groupid => {\n      await axios.post(`${process.env.REACT_APP_API_URI}/groups/${groupid}/join/${this.props.userID._id}`, {\n        withCredentials: true\n      });\n      this.props.history.push(\"/myGroups\");\n    };\n\n    this.state = {\n      event: [],\n      image: \"\",\n      groups: []\n    };\n  }\n\n  componentDidMount() {\n    this.getSingleEvent();\n    this.getGroupEventID();\n  }\n\n  render() {\n    const groups = this.state.groups.map((group, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"figure\", {\n        className: \"image-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://images.unsplash.com/photo-1474600056930-615c3d706456?ixlib=rb-0.3.5&s=dc82336ad3e3873b0a81e9389d346916&auto=format&fit=crop&w=1952&q=80\",\n        className: \"image-prop\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-prop\",\n        style: {\n          backgroundColor: `#fff`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }\n      }, group.name), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleJoin(group._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }\n      }, \"Join\")), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, \"BIO\"), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, group.bio)));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, \"Artista\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.image,\n      alt: this.state.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, this.state.event.name), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, this.state.event.type), this.state.groups ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, groups) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, \"Loading\"), /*#__PURE__*/React.createElement(Link, {\n      to: `/groups/create/${this.props.match.params.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"Create Group\")));\n  }\n\n}\n\nexport default withAuth(EventDetails);","map":{"version":3,"sources":["/Users/migueldominguezchamorro/Desktop/TindEvent/TindEvent-front/my-app/src/components/EventDetails.js"],"names":["React","Component","Link","withAuth","axios","EventDetails","constructor","props","getSingleEvent","params","match","console","log","get","process","env","REACT_APP_TICKETMASTERKEY","id","then","responseFromApi","theEvent","data","_embedded","events","setState","event","image","images","url","catch","err","getGroupEventID","groups","REACT_APP_API_URI","handleJoin","groupid","post","userID","_id","withCredentials","history","push","state","componentDidMount","render","map","group","i","backgroundColor","name","bio","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\n\nclass EventDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      event: [],\n      image: \"\",\n      groups: [],\n    };\n  }\n  componentDidMount() {\n    this.getSingleEvent();\n    this.getGroupEventID();\n  }\n\n  getSingleEvent = async () => {\n    const { params } = this.props.match;\n    console.log(\"ESTE PARAMS\", params);\n    await axios\n      .get(\n        `https://app.ticketmaster.com/discovery/v2/events?apikey=${process.env.REACT_APP_TICKETMASTERKEY}&id=${params.id}`\n      )\n      .then((responseFromApi) => {\n        const theEvent = responseFromApi.data._embedded.events[0];\n\n        this.setState({\n          event: theEvent,\n          image: theEvent.images[1].url,\n        });\n\n        //console.log(\"caca\", this.state.event.images[0].url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  getGroupEventID = async () => {\n    const { params } = this.props.match;\n    console.log(\"Entrando en GetGroupEventID\", params.id);\n    const groups = await axios.get(\n      `${process.env.REACT_APP_API_URI}/groups/grouplist/${params.id}`\n    );\n    this.setState({\n      groups: groups.data,\n    });\n    console.log(groups);\n  };\n\n  handleJoin = async (groupid) => {\n    await axios.post(`${process.env.REACT_APP_API_URI}/groups/${groupid}/join/${this.props.userID._id}`, {withCredentials: true})\n    this.props.history.push(\"/myGroups\")\n  }\n  \n  render() {\n    \n    const groups = this.state.groups.map((group, i) => {\n      return (\n        <div className=\"flex-container\">\n          <figure className=\"image-container\">\n            <img\n              src=\"https://images.unsplash.com/photo-1474600056930-615c3d706456?ixlib=rb-0.3.5&s=dc82336ad3e3873b0a81e9389d346916&auto=format&fit=crop&w=1952&q=80\"\n              className=\"image-prop\"\n              alt=\"\"\n            />\n          </figure>\n          <div className=\"image-prop\" style={{ backgroundColor: `#fff` }}>\n            <div className=\"flex-container\">\n              <h1>{group.name}</h1>\n              <button onClick={ () =>this.handleJoin(group._id)}>Join</button>\n              {/* <button>#Italian</button> */}\n            </div>\n            <h2>BIO</h2>\n            <h3>{group.bio}</h3>\n          </div>\n          \n        </div>\n      );\n    });\n    return (\n      <div>\n        <h1>Artista</h1>\n        <img src={this.state.image} alt={this.state.name} />\n        <h6>{this.state.event.name}</h6>\n        <h6>{this.state.event.type}</h6>\n        {this.state.groups ? (\n          <div>\n            {groups}\n          </div>\n        ) : (\n          <h1>Loading</h1>\n        )}\n        <Link to={`/groups/create/${this.props.match.params.id}`}>\n              <button>Create Group</button>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(EventDetails);\n"]},"metadata":{},"sourceType":"module"}