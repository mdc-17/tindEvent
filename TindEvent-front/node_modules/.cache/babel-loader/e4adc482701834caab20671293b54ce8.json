{"ast":null,"code":"var _jsxFileName = \"/Users/migueldominguezchamorro/Desktop/TindEvent/TindEvent-front/my-app/src/components/EventDetails.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\n\nclass EventDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getSingleEvent = async () => {\n      const {\n        params\n      } = this.props.match;\n      await axios.get(`https://app.ticketmaster.com/discovery/v2/events?apikey=${process.env.REACT_APP_TICKETMASTERKEY}&id=${params.id}`).then(responseFromApi => {\n        const theEvent = responseFromApi.data._embedded.events[0];\n        this.setState({\n          event: theEvent,\n          image: theEvent.images[1].url,\n          date: theEvent.dates.start.localDate.slice(0, 10).split('-').reverse().join('-'),\n          time: theEvent.dates.start.localTime,\n          venue: theEvent._embedded.venues[0].city.name\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.getGroupEventID = async () => {\n      const {\n        params\n      } = this.props.match;\n      const groups = await axios.get(`${process.env.REACT_APP_API_URI}/groups/grouplist/${params.id}`);\n      this.setState({\n        groups: groups.data\n      });\n    };\n\n    this.handleJoin = async groupid => {\n      await axios.post(`${process.env.REACT_APP_API_URI}/groups/${groupid}/join/${this.props.user._id}`, {\n        withCredentials: true\n      });\n      this.props.history.push(\"/myGroups\");\n    };\n\n    this.state = {\n      event: [],\n      image: \"\",\n      groups: [],\n      date: \"\",\n      time: \"\",\n      venue: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getSingleEvent();\n    this.getGroupEventID();\n  }\n\n  render() {\n    const groups = this.state.groups.map((group, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"figure\", {\n        className: \"image-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.image,\n        className: \"image-prop\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleJoin(group._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, \"Join\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }\n      }, group.name)), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, \"BIO\"), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, group.bio)));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"gradient\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"cardDet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.image,\n      alt: this.state.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, this.state.event.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, this.state.event.type), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, this.state.date, \", h: \", this.state.time), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"left bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, \"Venue: \", this.state.venue), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/groups/create/${this.props.match.params.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, \"Create Group\")))), this.state.groups ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 30\n      }\n    }, groups) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, \"Loading\"));\n  }\n\n}\n\nexport default withAuth(EventDetails);","map":{"version":3,"sources":["/Users/migueldominguezchamorro/Desktop/TindEvent/TindEvent-front/my-app/src/components/EventDetails.js"],"names":["React","Component","Link","withAuth","axios","EventDetails","constructor","props","getSingleEvent","params","match","get","process","env","REACT_APP_TICKETMASTERKEY","id","then","responseFromApi","theEvent","data","_embedded","events","setState","event","image","images","url","date","dates","start","localDate","slice","split","reverse","join","time","localTime","venue","venues","city","name","catch","err","console","log","getGroupEventID","groups","REACT_APP_API_URI","handleJoin","groupid","post","user","_id","withCredentials","history","push","state","componentDidMount","render","map","group","i","bio","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\n\nclass EventDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      event: [],\n      image: \"\",\n      groups: [],\n      date: \"\",\n      time:\"\",\n      venue:\"\"\n    };\n  }\n  componentDidMount() {\n    this.getSingleEvent();\n    this.getGroupEventID();\n  }\n\n  getSingleEvent = async () => {\n    const { params } = this.props.match;\n    \n    await axios\n      .get(\n        `https://app.ticketmaster.com/discovery/v2/events?apikey=${process.env.REACT_APP_TICKETMASTERKEY}&id=${params.id}`\n      )\n      .then((responseFromApi) => {\n        const theEvent = responseFromApi.data._embedded.events[0];\n\n        this.setState({\n          event: theEvent,\n          image: theEvent.images[1].url,\n          date: theEvent.dates.start.localDate.slice(0, 10).split('-').reverse().join('-'),\n          time: theEvent.dates.start.localTime,\n          venue: theEvent._embedded.venues[0].city.name\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  getGroupEventID = async () => {\n    const { params } = this.props.match;\n    \n    const groups = await axios.get(\n      `${process.env.REACT_APP_API_URI}/groups/grouplist/${params.id}`\n    );\n    this.setState({\n      groups: groups.data,\n    });\n   \n  };\n\n  handleJoin = async (groupid) => {\n    await axios.post(\n      `${process.env.REACT_APP_API_URI}/groups/${groupid}/join/${this.props.user._id}`,\n      { withCredentials: true }\n    );\n    this.props.history.push(\"/myGroups\");\n  };\n\n  render() {\n    const groups = this.state.groups.map((group, i) => {\n      return (\n        <div className=\"flex-container\">\n          <figure className=\"image-container\">\n            <img src={this.state.image} className=\"image-prop\" alt=\"\" />\n          </figure>\n          <div className=\"image-prop\">\n            <button onClick={() => this.handleJoin(group._id)}>Join</button>\n            <div className=\"flex-container\">\n              <h1>{group.name}</h1>\n\n              {/* <button>#Italian</button> */}\n            </div>\n            <h2>BIO</h2>\n            <h6>{group.bio}</h6>\n          </div>\n        </div>\n      );\n    });\n    return (\n      <div>\n        <div id=\"gradient\"></div>\n        <div id=\"cardDet\">\n          <img src={this.state.image} alt={this.state.name} />\n          <h2>{this.state.event.name}</h2>\n          <p>{this.state.event.type}</p>\n          <p>{this.state.date}, h: {this.state.time}</p>\n          <p className=\"left bottom\">Venue: {this.state.venue}</p>\n          <div>\n        <Link to={`/groups/create/${this.props.match.params.id}`}>\n          <button>Create Group</button>\n        </Link>\n        </div>\n        </div>\n        \n      {this.state.groups  ? (<div>{groups}</div>) : (\n        <h1>Loading</h1>\n        )}\n      </div>\n    );\n}}\n\n\nexport default withAuth(EventDetails);\n"]},"metadata":{},"sourceType":"module"}